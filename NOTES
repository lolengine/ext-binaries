#####################
# Building contribs #
#####################


Glew
----

Download page: http://sourceforge.net/projects/glew/files/glew

- fix config/Makefile.linux-mingw32 and config/Makefile.linux-mingw64 to
  get the right compiler and linker executable names.

    sed -i 's/i586-mingw32msvc/i686-w64-mingw32/g' config/*.linux-mingw32
    sed -i 's/amd64-mingw32msvc/x86_64-w64-mingw32/g' config/*.linux-mingw64

- fix Makefile for static builds

    sed -i 's/-DGLEW_NO_GLU.*CFLAGS[^P]*CFLAGS/-DGLEW_STATIC &/g' Makefile

- build for Win32

    make SYSTEM=linux-mingw32 clean all
    i686-w64-mingw32-ranlib lib/libglew32.a

- copy lib/libglew32.a in the contrib directory as glew32.lib

- build for Win64

    make SYSTEM=linux-mingw64 clean all
    x86_64-w64-mingw32-ranlib lib/libglew32.a

- copy lib/libglew32.a in the contrib directory as glew32.lib


SDL
---

Download page: http://www.libsdl.org/release/

- take the pre-compiled binaries for Visual C++
- take the pre-compiled libSDLmain.a for 32-bit mingw32

- download the source and build libSDLmain.a for 64-bit mingw32
  (note: CPPFLAGS=-D_CRTIMP= used to be needed)

    ./configure --host=x86_64-w64-mingw32
    make clean all

- copy build/.libs/libSDLmain.a
- copy build/.libs/libSDL.dll.a


SDL_Image
---------

Download page: http://www.libsdl.org/projects/SDL_image/release/

Hard to do, requires libjpeg, libtiff, libpng, zlib...


SDL_Mixer
---------

Download page: http://www.libsdl.org/projects/SDL_mixer/release/

Hard to do, requires libogg, libvorbis, mikmod, libsmpeg...


Flex
----

Just copied FlexLexer.h from a Debian installation.

Libcaca
-------

Ran build-win32 and build-win64 on a Debian installation, copied the
resulting .lib files and some headers.


Bullet
------

Download page: http://code.google.com/p/bullet/downloads/list

Win32:
- build normally using Visual Studio 2010

Win64:
- build normally using Visual Studio 2010
- remove _x64 suffix from object names

Xbox 360:
- add Xbox 360 platform to the vs2010 solution, using eg. Win32 as a preset
- save solution and exit vs2010
- sed -i 's@<ItemDefinitionGroup.*Xbox 360.*@&<ClCompile><PreprocessorDefinitions>_XBOX;%(PreprocessorDefinitions)</PreprocessorDefinitions></ClCompile>@' msvc/vs2010/*.vcxproj
- sed -i 's@.*MachineX86.*@@' msvc/vs2010/*vcxproj
- reload solution
- build only required projects

PS3:
- sh autogen.sh
- ./configure CXX=ppu-lv2-g++ CC=ppu-lv2-gcc ac_cv_exeext=.elf --host=powerpc
- make -j4
- make install DESTDIR=$PWD/tmp

